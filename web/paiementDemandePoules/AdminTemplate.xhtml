<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">
    <h:head>
        <meta charset="utf-8" />
        <link rel="icon" sizes="76x76" href="../resources/assets3/img/psss.png"></link>
        <link rel="icon" type="image/png" href="../resources/assets3/img/psss.png"></link>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>E-poussin</title>
        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
        <!--     Fonts and icons     -->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
        <!-- CSS Files -->
        <link href="../resources/assets3/css/bootstrap.min.css" rel="stylesheet" />
        <link href="../resources/assets3/css/light-bootstrap-dashboard.css?v=2.0.1" rel="stylesheet" />
        <!-- CSS Just for demo purpose, don't include it in your project -->
        <link href="../resources/assets3/css/demo.css" rel="stylesheet" />
    </h:head>
    <h:body>
        <div class="wrapper">
            <div class="sidebar" data-image="../resources/assets3/img/ps1.jpg" data-color="green">
                <!--
            Tip 1: You can change the color of the sidebar using: data-color="purple | blue | green | orange | red"
    
            Tip 2: you can also add an image using data-image tag
                -->
                <div class="sidebar-wrapper">
                    <div class="logo">
                        <a class="navbar-brand" href="../index1.xhtml"><img src="../resources/assets3/img/psss.png" style="width:60px;vertical-align: middle;margin: 0px;" alt="EDE logo"/>
                        </a>
                        E-poussin

                    </div>
                    <ul class="nav">
                        <li>
                            <a class="nav-link" href="statistiqTemplate.xhtml">
                                <i class="nc-icon nc-chart-pie-35"></i>
                                <p>Statistique</p>
                            </a>
                        </li>

                        <li class="nav-item active">
                            <a class="nav-link" href="AdminTemplate.xhtml">
                                <i class="nc-icon nc-notes"></i>
                                <p>Paiement</p>
                            </a>
                        </li>
                        <li >
                            <a class="nav-link" href="delaiTemplate.xhtml">
                                <i class="nc-icon nc-circle-09"></i>
                                <p>Annulation</p>
                            </a>
                        </li>
                        <li>
                            <a class="nav-link" href="./typography.html">
                                <i class="nc-icon nc-paper-2"></i>
                                <p>Typography</p>
                            </a>
                        </li>
                        <li>
                            <a class="nav-link" href="./icons.html">
                                <i class="nc-icon nc-atom"></i>
                                <p>Icons</p>
                            </a>
                        </li>
                        <li>
                            <a class="nav-link" href="./maps.html">
                                <i class="nc-icon nc-pin-3"></i>
                                <p>Maps</p>
                            </a>
                        </li>
                        <li>
                            <a class="nav-link" href="./notifications.html">
                                <i class="nc-icon nc-bell-55"></i>
                                <p>Notifications</p>
                            </a>
                        </li>
                        <li class="nav-item active active-pro">
                            <a class="nav-link active" href="./upgrade.html">
                                <i class="nc-icon nc-alien-33"></i>
                                <p>Upgrade to PRO</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-panel">
                <!-- Navbar -->
                <nav class="navbar navbar-expand-lg " color-on-scroll="500">
                    <div class=" container-fluid  ">
                        <a class="navbar-brand" href="#pablo"> User </a>
                        <button href="" class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-bar burger-lines"></span>
                            <span class="navbar-toggler-bar burger-lines"></span>
                            <span class="navbar-toggler-bar burger-lines"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end" id="navigation">
                            <ul class="nav navbar-nav mr-auto">
                                <li class="nav-item">
                                    <a href="#" class="nav-link" data-toggle="dropdown">
                                        <i class="nc-icon nc-palette"></i>
                                        <span class="d-lg-none">Dashboard</span>
                                    </a>
                                </li>
                                <li class="dropdown nav-item">
                                    <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                        <i class="nc-icon nc-planet"></i>
                                        <span class="notification">5</span>
                                        <span class="d-lg-none">Notification</span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Notification 1</a>
                                        <a class="dropdown-item" href="#">Notification 2</a>
                                        <a class="dropdown-item" href="#">Notification 3</a>
                                        <a class="dropdown-item" href="#">Notification 4</a>
                                        <a class="dropdown-item" href="#">Another notification</a>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="#" class="nav-link">
                                        <i class="nc-icon nc-zoom-split"></i>
                                        <span class="d-lg-block">&nbsp;Search</span>
                                    </a>
                                </li>
                            </ul>
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item">
                                    <a class="nav-link" href="#pablo">
                                        <span class="no-icon">Account</span>
                                    </a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="no-icon">Dropdown</span>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                        <div class="divider"></div>
                                        <a class="dropdown-item" href="#">Separated link</a>
                                    </div>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#pablo">
                                        <span class="no-icon">Log out</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
                <!-- End Navbar -->












                <div class="content" >
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12" style="background-color: grey">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Paiement</h4>
                                    </div>
                                    <div class="card-body">






                                        <h:form>
                                            <div class="row">
     
     
                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                                    <p:outputLabel value="DemandePoules:" for="demandePoules" />
                                                    <h:selectOneMenu  class="form-control" id="demandePoules" value="#{demandePoulesController.selected}" >
                                                        <f:selectItem itemLabel="--SELECT--" ></f:selectItem>
                                                        <f:selectItems value="#{demandePoulesController.itemsAvailableSelectOne}"
                                                                       var="demandePoulesItem"
                                                                       itemValue="#{demandePoulesItem}" itemLabel="#{demandePoulesItem.id}"/>
                                                    </h:selectOneMenu>
                                                </div>
                                            </div>

                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">

                                                    <p:commandButton class="form-control" actionListener="#{demandePoulesController.searchId()}" update="c1,c2,c3" value="Afficher "   style=" background-color: #90EE90;color: white;"></p:commandButton>
                                                </div>
                                            </div>
                                            </div>
                                            <div class="row">
                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                            <p:outputLabel value="qteMale :"  />
                                            <h:outputText  title="cc" value="#{demandePoulesController.selected2.qteMale}"  id="c1"/>
                                               </div>
                                            </div>
                                             <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                            <p:outputLabel value="qteFemale :"  />
                                            <h:outputText title="cc" value="#{demandePoulesController.selected2.qteFemale}"  id="c2"/>
                                             </div>
                                            </div>
                                             <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                            <p:outputLabel value="montant total :"  />
                                            <h:outputText title="cc" value="#{demandePoulesController.selected2.montantTotal}"  id="c3"/>
                                             </div>
                                            </div>
                                            </div>



                                        </h:form>




                                        <h:form id="form">


                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                                    <p:outputLabel value="DemandePoules:" for="demandePoules" />
                                                    <h:selectOneMenu  class="form-control" id="demandePoules" value="#{paiementDemandePoulesController.selected.demandePoules}" >
                                                        <f:selectItem itemLabel="--SELECT--" ></f:selectItem>
                                                        <f:selectItems value="#{demandePoulesController.itemsAvailableSelectOne}"
                                                                       var="demandePoulesItem"
                                                                       itemValue="#{demandePoulesItem}" itemLabel="#{demandePoulesItem.id}"/>
                                                    </h:selectOneMenu>
                                                </div>
                                            </div>  


                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                                    <p:outputLabel value="Type:" for="type" />
                                                    <h:selectOneMenu  class="form-control" id="type" value="#{paiementDemandePoulesController.type}" title="Type" >
                                                        <f:selectItem itemLabel="--SELECT--" ></f:selectItem>
                                                        <f:selectItem itemLabel="espece" itemValue="1" />
                                                        <f:selectItem itemLabel="chèque" itemValue="2" />
                                                    </h:selectOneMenu>

                                                </div>
                                            </div>    

                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                                    <p:outputLabel value="Total:" for="total" />
                                                    <p:inputText  class="form-control" placeholder="Total" id="total" value="#{paiementDemandePoulesController.total}" title="Total" />
                                                </div>
                                            </div>    
                                            <div class="col-md-5 pr-1">
                                                <div class="form-group">
                                                    <p:commandButton actionListener="#{paiementDemandePoulesController.paiementDemande()}" value="Payer" update="tab12,tab" class="form-control" style=" background-color: #90EE90;color: white;"></p:commandButton>
                                                </div>
                                            </div>    



                                            <b:dataTable value="#{paiementController.items}" var="item" id="tab12">
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Type"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.type}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="DatePaiement"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.datePaiement}">
                                                        <f:convertDateTime pattern="MM/dd/yyyy" />
                                                    </h:outputText>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="DateEncaissement"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.dateEncaissement}">
                                                        <f:convertDateTime pattern="MM/dd/yyyy" />
                                                    </h:outputText>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Id"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.id}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Total"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.total}"/>
                                                </b:column>
                                            </b:dataTable>

















                                            <b:dataTable value="#{demandePoulesController.items}" var="item" id="tab">
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="QteTotal"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.qteTotal}"/>
                                                </b:column>


                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="TotalPaye"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.totalPaye}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="QteMale"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.qteMale}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="QteFemale"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.qteFemale}"/>
                                                </b:column>

                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="EtatPaiement"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.etatPaiement==1?'paid':item.etatPaiement==2?'in payment':'unpaid'}"/>
                                                </b:column>

                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="MontantTotal"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.montantTotal}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Client"/>
                                                    </f:facet>
                                                    <h:outputText value="#{item.client}"/>
                                                </b:column>
                                                <b:column>
                                                    <f:facet name="header">
                                                        <h:outputText value="Paiement"/>
                                                    </f:facet>
                                                    <b:commandButton actionListener="#{demandePoulesController.generatePaiement(item) }" value="recu" update="tab" ajax="false"></b:commandButton>
                                                </b:column>                                                

                                            </b:dataTable>
                                        </h:form>











                                    </div>
                                </div>

                 

                            </div>


                        </div>
                    </div>
                </div>

            </div>
        </div>





        <!--   Core JS Files   -->
        <script src="../resources/assets3/js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
        <script src="../resources/assets3/js/core/popper.min.js" type="text/javascript"></script>
        <script src="../resources/assets3/js/core/bootstrap.min.js" type="text/javascript"></script>
        <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
        <script src="../resources/assets3/js/plugins/bootstrap-switch.js"></script>
        <!--  Google Maps Plugin    -->
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
        <!--  Chartist Plugin  -->
        <script src="../resources/assets3/js/plugins/chartist.min.js"></script>
        <!--  Notifications Plugin    -->
        <script src="../resources/assets3/js/plugins/bootstrap-notify.js"></script>
        <!-- Control Center for Light Bootstrap Dashboard: scripts for the example pages etc -->
        <script src="../resources/assets3/js/light-bootstrap-dashboard.js?v=2.0.1" type="text/javascript"></script>
        <!-- Light Bootstrap Dashboard DEMO methods, don't include it in your project! -->
        <script src="../resources/assets3/js/demo.js"></script>
    </h:body>
</html>

